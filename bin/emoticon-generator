#!/usr/bin/env ruby

EMOTICONS = %w[ (happy) (L) (inlove) (kiss) (hug) (sun) ]

chosen = EMOTICONS.sample(rand(2..EMOTICONS.length))
min_lines = 45
max_lines = 55
max_on_line = 15
in_groups_of = ->(range, emo){ range.map { emo }  }
result = []

groups = chosen.collect do |emoticon|
  in_groups_of.(2..8, emoticon)
end

rand(min_lines..max_lines).times do |n|
  result << groups
end

$stdout.write result.flatten(4).join
