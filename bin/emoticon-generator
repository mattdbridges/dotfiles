#!/usr/bin/env ruby

EMOTICONS = %w[ (happy) (L) (inlove) (kiss) (hug) (sun) ]

chosen = EMOTICONS.sample(rand(2..EMOTICONS.length))
min_lines = 75
max_lines = 125
max_on_line = 15
in_groups_of = ->(range, emo){ range.map { emo }  }
result = []

groups = chosen.collect do |emoticon|
  in_groups_of.(2..8, emoticon)
end

rand(min_lines..max_lines).times do |n|
  result << groups
end

4.times { result.flatten! }

$stdout.write result.join
