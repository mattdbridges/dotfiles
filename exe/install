#!/usr/bin/env zsh
# vim: filetype=zsh

set -e

# Ask for the administrator password upfront
sudo -v

source ${0:a:h}/helpers

main() {
  keepSudoAlive

  installHomebrew
  installEssentialBrews
  installAsdf
  installAsdfPlugins
  installVagrantPlugins
  installPhpbrew
  installZprezto
  installTpm

  installBrewfile
  installVimMinpac

  cloneRepo
  setupDotfiles

  setupZshAsDefault
  setupMinpackPlugins
  installAsdfTools

  # . $HOME/.dotfiles/exe/macos

  echo
  logSuccess "Finished setting up the system"
}

main $ARGS
